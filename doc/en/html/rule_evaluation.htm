<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<TITLE>Rule Evaluation</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000">

<OBJECT TYPE="application/x-oleobject" CLASSID="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
	<PARAM NAME="Keyword" VALUE="Rule-Based Controls">
	<PARAM NAME="Keyword" VALUE="Rule-Based Controls,Rule Evaluation">
</OBJECT>

<P><A NAME="rule_evaluation"></A></P>

<H2>Rule Evaluation</H2>

<P><B></B></P>

<P><B></B></P>

<P><A HREF="1kwd8.p.htm"><B>Rule-Based Controls</B></A> are applied after an initial hydraulic state of the network is computed (i.e., after time zero). They are evaluated over the course of a hydraulic simulation as follows:</P>

<P></P>

<P>1.The rules are evaluated at a sub-hydraulic time step equal to 1/10 of the normal hydraulic time step (e.g., if hydraulics are updated every hour, then rules are evaluated every 6 minutes).</P>

<P>2.Over this sub-hydraulic time step, clock time is updated as are the water levels in storage tanks (based on the last set of pipe flows computed). </P>

<P>3.If a rule's conditions are satisfied, then its actions are added to a list. If an action conflicts with one for the same link already on the list then the action from the rule with the higher priority stays on the list and the other is removed. If the priorities are the same then the original action stays on the list.</P>

<P>4.If the list is not empty, then the new actions are taken. If this causes the status of one or more links to change then a new hydraulic solution is computed.</P>

<P>5.The action list is cleared and the next sub-hydraulic time step is checked.</P>

</BODY>
</HTML>
